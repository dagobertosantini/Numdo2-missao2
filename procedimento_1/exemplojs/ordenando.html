<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordenando</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<body><br>
    <div class="container">
        <div class="row">
            <div class="col-sm">
                <h1>Ordenando Valores</h1>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm">
                <label>Valor</label>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-sm">
                <input class="form-control" type="text" id="valor"/>
            </div>
        </div>
    </div><br>

    <div class="container">
        <div class="row">
            <div class="col-sm">
                <button class="btn btn-primary" onclick="add()">Adicionar</button>
            </div>
        </div>
    </div>

    <hr class="hr" />
    
    <div class="container">
        <div class="row">
            <div class="col-sm">
                <select class="form-control" id="opcao">
                    <option selected>Bubble Sort</option>
                    <option>Selection Sort</option>
                    <option>Quick Sort</option>
                </select>
            </div>
        </div>
    </div><br>

    <div class="container">
        <div class="row">
            <div class="col-sm">
                <label class="col-form-label col-form-label-sm">Para o uso do Quick Sort</label>
            </div>
            <div class="col-sm">
                <input class="form-control form-control-sm" placeholder="Posição Inicial" type="text" id="inicial" />
            </div>
            <div class="col-sm">
                <input class="form-control form-control-sm" placeholder="Posição Final" type="text" id="final"/>
            </div>
            <div class="col-sm">
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="row">
            <div class="col-sm">
                <button class="btn btn-primary" onclick="ordenar()">Ordenar</button>
                <button class="btn btn-primary" onclick="misturar()">Misturar</button>
            </div>
        </div>
    </div>

    <hr class="hr" />
    
    <div class="container">
        <div class="row">
            <div class="col-sm">
                <ul id="valores">
                </ul>
            </div>
        </div>
    </div>
    
</body>

<script src="ordenando.js"></script>
<script>
    function add(){
        const valor = document.getElementById("valor").value;
        const lista = document.getElementById("valores").innerHTML;
        const li = document.createElement("li");
        const novovalor = document.createTextNode(valor);
        li.appendChild(novovalor);
        document.getElementById("valores").appendChild(li);
    }

    function ordenar(){
        var lista = document.querySelectorAll("li");
        var selecao = document.getElementById("opcao").selectedIndex;
        const inicial = document.getElementById("inicial").value;
        const final = document.getElementById("final").value;

        var vetor = [];
        for(i = 0;i<lista.length;i++){
            const comp = lista[i].textContent;
            vetor.push(eval(comp));
        }

        switch(selecao) {
            case 0:
                bubble_sort(vetor)
                break;
            case 1:
                selection_sort(vetor)
                break;
            case 2:
                quick_sort(vetor, inicial, final)
                break;
            default:
                alert("Erro");
        }

        for(i = 0;i<lista.length;i++){
            lista[i].textContent = vetor[i];
        }
    }

    function misturar(){
        var lista = document.querySelectorAll("li");

        var vetor = [];
        for(i = 0;i<lista.length;i++){
            const comp = lista[i].textContent;
            vetor.push(eval(comp));
        }

        shuffle(vetor);

        for(i = 0;i<lista.length;i++){
            lista[i].textContent = vetor[i];
        }
    }
</script>
</html>